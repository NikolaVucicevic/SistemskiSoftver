# SistemskiSoftver
# Sistemski Softver â€“ Two-Pass Assembler

This repository contains my **two-pass assembler project** developed as part of the **System Software (Sistemski Softver)** course at the Faculty of Electrical Engineering.

The assembler parses a custom assembly language, builds symbol and section tables, and emits bytecode based on a two-pass approach.

---

## Project Overview

This assembler performs the following:

- Lexical analysis using **Flex**  
- Syntax parsing using **Bison**  
- A two-pass assembler pipeline:
  - **Pass 1:** Gather symbols, create symbol table, detect sections
  - **Pass 2:** Resolve symbol values and generate section bytecode  
- A **C wrapper** bridges the Bison parser (generated in C) with the C++ logic in the backend
- Backend logic implemented in **C++** classes (`Symbol`, `Section`, `DataTable`, etc.)

---

## Repository Structure

.
â”œâ”€â”€ inc/ # Header files for core backend
â”œâ”€â”€ src/ # Implementation of backend and parser wrapper
â”œâ”€â”€ asembler/ # Bison/Flex grammar & definitions
â”œâ”€â”€ tests/ # Example test .s files
â”œâ”€â”€ generated.o # Example build output (bytecode)
â”œâ”€â”€ README.md # This file
â””â”€â”€ .vscode/ # IDE config


---

## ðŸ§  How It Works

### Two-Pass Assembler Pipeline

1. **Lexical Analysis**  
   - Scanner (Flex) reads `.s` source, tokenizes labels, directives, instructions.

2. **Parsing (Bison)**  
   - Grammar rules identify valid constructs.
   - Semantic actions call functions in the **C wrapper**.

3. **C Wrapper â†’ C++ Backend**  
   - Functions in the C wrapper forward actions to `DataTable`, `Section`, `Symbol` classes.
   - This keeps the parser simple while preserving strong C++ logic.

4. **Symbol & Section Tables**  
   - Symbols store labels + values + section associations.
   - Sections hold generated bytes and relocation info.

5. **Output**  
   - On the second pass, final values and offsets are computed.
   - Section bytecode is emitted (stored in memory or file).

---

## Build & Usage

### Prerequisites

Install:
- `g++` or `clang++` (C++17 compatible)
- `bison`
- `flex`
- `make` *(optional)*

---
in folder src
flex lexer.l for lexer
bison -d -t parser.y for parser

then in parent directory

g++ -I./inc src/*.cpp src/lex.yy.c src/parser.tab.c -o asembler
./asembler < tests/test.s

